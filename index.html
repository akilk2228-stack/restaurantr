<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Restaurant QR Order</title>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>

  <style>
    body { font-family: Arial; margin: 0; }
    header { background: #b71c1c; color: white; padding: 12px; font-size: 18px; }
    .container { padding: 15px; }
    .item { display: flex; justify-content: space-between; margin-bottom: 8px; }
    button { padding: 5px 10px; }
    .total { font-size: 18px; margin-top: 15px; }
  </style>
</head>

<body>

<header>üçΩ Restaurant QR Order</header>

<div class="container">
  <label>Table:</label>
  <input id="table" value="1"><br><br>

  <label>Name:</label>
  <input id="customer" placeholder="Your name"><br><br>

  <h3>Menu</h3>
  <div id="menu"></div>

  <div class="total">Total: ‚Çπ<span id="total">0</span></div>
</div>

<script>
  // üî• FIREBASE CONFIG (YOUR PROJECT)
  const firebaseConfig = {
    apiKey: "AIzaSyCgaZ9DqGuszvycCRuJceNvg7G86OTc9oU",
    authDomain: "restaurant-55333.firebaseapp.com",
    projectId: "restaurant-55333",
    storageBucket: "restaurant-55333.appspot.com",
    messagingSenderId: "279347685173",
    appId: "1:279347685173:web:cb1a120e25e3adb856ce7c"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.firestore();

  let total = 0;

  function add(price) {
    total += price;
    document.getElementById("total").innerText = total;
  }

  // üî• FETCH MENU FROM FIRESTORE
  db.collection("menu").where("available", "==", true).onSnapshot(snapshot => {
    const menuDiv = document.getElementById("menu");
    menuDiv.innerHTML = "";
    total = 0;
    document.getElementById("total").innerText = "0";

    snapshot.forEach(doc => {
      const item = doc.data();
      menuDiv.innerHTML += `
        <div class="item">
          <span>${item.name} - ‚Çπ${item.price}</span>
          <button onclick="add(${item.price})">Add</button>
        </div>
      `;
    });
  });
</script>

</body>
</html>


  function addItem(name, price) {
    cart.push({ name, price });
    total += price;
    document.getElementById("total").innerText = "Total: ‚Çπ" + total;
  }

  function placeOrder() {
    const name = document.getElementById("custName").value;
    if (!name || cart.length === 0) {
      alert("Name or items missing");
      return;
    }

    db.collection("orders").add({
      table: table,
      customer: name,
      items: cart,
      total: total,
      status: "pending",
      time: new Date()
    });

    alert("Order placed successfully!");
    cart = [];
    total = 0;
    document.getElementById("total").innerText = "Total: ‚Çπ0";
  }
</script>

</body>
</html>


